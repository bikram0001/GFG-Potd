import bisect
class Solution:
    def getMinEleIndex(self,arr,low,high):
        while(arr[low]>arr[high]):
            mid = low+(high-low)//2
            if(arr[mid]>=arr[low]):
                low = mid+1
            else:
                high = mid
        return low
        
    def countLessEqual(self, arr, x):
        #code here
        n = len(arr)
        index = self.getMinEleIndex(arr,0,n-1)
        
        if(x>arr[n-1]):
            result = (n-index)+bisect.bisect_right(arr[0:index],x)
        else:
            result = bisect.bisect_right(arr[index:],x)
        return result
        
